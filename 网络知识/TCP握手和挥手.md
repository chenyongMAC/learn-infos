## 三次握手
1.客户端将报文段中的SYN=1，并选择一个seq=x，(即该请求报文的序号为x)  将这个报文发送到服务器。此时，客户端进入同步已发送状态（SYN-SEND）.SYN报文段不能携带数据，但是要消耗掉一个序号。

2.服务器收到请求报文后，若同意建立连接，则回复报文中，SYN=1,ACK=1，并选择一个seq = y,且报文中确认号为x+1，序号为y   .此时服务器进入同步已接收状态（SYN-RCVD）

3.客户端收到服务器的同步确认后，对服务器发送确认的确认。将ACK=1,确认号为y+1,而报文首部的序号为x+1，将该报文发出后，客户端进入已连接状态（ESTABLISHED）。

#### 原因
假设没有3次握手：如果client发出a请求，由于延迟一直没有到达服务器。此时client重新发起b请求，服务器建立连接；然后，a请求也到达服务器，并建立连接。但是，此时client已经释放了a请求的连接。于是，服务器资源被浪费了。

所以，使用三次握手机制，服务器发送了该确认后，收不到客户端的确认，也就知道并没有建立连接，因此不会将资源浪费在这种没有意义的等待上。

## 四次挥手

#### 原因
TCP提供全双工的数据传输结构。一方发送FIN只表示自己发完了所有要发的数据，但还允许对方继续把没发完的数据发过来。

